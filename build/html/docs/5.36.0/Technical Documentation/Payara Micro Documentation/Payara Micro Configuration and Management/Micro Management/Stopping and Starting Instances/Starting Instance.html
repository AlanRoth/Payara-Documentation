<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Starting an Instance :: Payara Documentation Preview</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
    <meta name="docsearch:version" content="5.36.0" />
  </head>
  <body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../../../..">Payara Documentation Preview</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item hide-for-print">
        Version: <div class="page-versions">
  <button class="version-menu-toggle single-version" title="Current version">5.36.0</button>
</div>

      </div>
      <div class="navbar-item hide-for-print">
            <div id="search-input-container">
    </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.payara.fish/products/downloads/">Download</a>
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary enterprise" href="../../../../../../../../enterprise">Documentation for Payara Enterprise</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="5.36.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">5.36.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../../../index.html">5.36.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../../../index.html">docs</a></li>
    <li><a href="Starting%20Instance.html">Starting an Instance</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/alanroth/Workspace/Payara-Documentation/docs/modules/ROOT/pages/Technical%20Documentation/Payara%20Micro%20Documentation/Payara%20Micro%20Configuration%20and%20Management/Micro%20Management/Stopping%20and%20Starting%20Instances/Starting%20Instance.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Starting an Instance</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>This section details the very basics of starting a Payara Micro Community instance.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting-an-instance-from-the-command-line"><a class="anchor" href="#starting-an-instance-from-the-command-line"></a>Starting an Instance from the Command Line</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To start an instance of Payara Micro from the command line, you simply run the JAR:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">java -jar payara-micro.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>This single command is all you need to run Payara Micro Community instances; additional
configuration options are all part of this command.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting-an-instance-from-rootdir-launcher"><a class="anchor" href="#starting-an-instance-from-rootdir-launcher"></a>Starting an Instance from Persistent Configuration Directory</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When using <a href="../Jar%20Structure%20and%20Configuration/rootdir.html" class="page">persistent root configuration directory</a>, it is possible to generate a launcher bound to that directory using the command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">java -jar payara-micro.jar --outputlauncher --rootdir $rootDirectory</code></pre>
</div>
</div>
<div class="paragraph">
<p>This will create file <code>$rootDirectory/launch-micro.jar</code> and exit immediately.
After that, it is possible to launch Payara Micro with plain</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">java -jar $rootDirectory/launch-micro.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>This makes configuration directory self-sufficient and the distribution file (<code>payara-micro.jar</code>) is no longer needed.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting-an-instance-programmatically"><a class="anchor" href="#starting-an-instance-programmatically"></a>Starting an Instance Programmatically</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You need to import two classes from the <code>fish.payara.micro</code> package (contained
in the Payara Micro JAR, see section
<a href="../../../Maven%20Support.html" class="page">Maven Support</a> for
instructions on importing this JAR with <strong>Maven</strong>):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Java hljs" data-lang="Java">import fish.payara.micro.BootstrapException;
import fish.payara.micro.PayaraMicro;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can then start an instance with default settings by calling the <code>bootstrap()</code>
method from the <code>PayaraMicro</code> class. This initialization will throw a
<code>BootstrapException</code> exception, so you will need to surround it with a <strong>try-catch</strong>,
or have the parent method throw the exception.</p>
</div>
<div class="paragraph">
<p>A simple example is as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Java hljs" data-lang="Java">import fish.payara.micro.BootstrapException;
import fish.payara.micro.PayaraMicro;

public class EmbeddedPayara{

    public static void main(String[] args) throws BootstrapException{
        PayaraMicro.bootstrap();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>To start an instance with non-default settings (configuration changes or deploying
applications upon startup), you have to call the <code>getInstance()</code> method before
using <code>bootstrap()</code>. More details on this can be found in the
<a href="../Configuring%20An%20Instance.html" class="page">Configuring an Instance Programmatically</a>
section. The use of the <code>getInstance()</code> method does not exclude you from using
the default settings however; calling the <code>bootstrap()</code> method on its own (as
shown in the example above) is functionally equivalent to calling the
<code>bootstrap()</code> method directly after the <code>getInstance()</code> method, such as in the
example below:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Java hljs" data-lang="Java">import fish.payara.micro.BootstrapException;
import fish.payara.micro.PayaraMicro;

public class EmbeddedPayara{

    public static void main(String[] args) throws BootstrapException{
        PayaraMicro.getInstance().bootStrap();
    }
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>bootStrap()</code> method returns a <code>PayaraMicroRuntime</code> object instance, which
is comes with various methods that afford you control over the instance and its
cluster after you have bootstrapped it. To take advantage of this, you have to
initialize a <code>PayaraMicroRuntime</code> object from the <code>bootStrap</code> method, like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-Java hljs" data-lang="Java">import fish.payara.micro.BootstrapException;
import fish.payara.micro.PayaraMicro;
import fish.payara.micro.PayaraMicroRuntime;

public class EmbeddedPayara{
    public static void main(String[] args) throws BootstrapException{
        PayaraMicroRuntime instance = PayaraMicro.bootStrap();
    }
}</code></pre>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../../../_/js/site.js"></script>
<script async src="../../../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../../../_/js/vendor/docSearch.js"></script>
  </body>
</html>
