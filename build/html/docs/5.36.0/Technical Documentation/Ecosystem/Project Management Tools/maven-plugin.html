<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Payara Micro Maven Plugin :: Payara Documentation Preview</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
    <meta name="docsearch:version" content="5.36.0" />
  </head>
  <body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../..">Payara Documentation Preview</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item hide-for-print">
        Version: <div class="page-versions">
  <button class="version-menu-toggle single-version" title="Current version">5.36.0</button>
</div>

      </div>
      <div class="navbar-item hide-for-print">
            <div id="search-input-container">
    </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.payara.fish/products/downloads/">Download</a>
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary enterprise" href="../../../../../../enterprise">Documentation for Payara Enterprise</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="5.36.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">5.36.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">5.36.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">docs</a></li>
    <li><a href="maven-plugin.html">Payara Micro Maven Plugin</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/alanroth/Workspace/Payara-Documentation/docs/modules/ROOT/pages/Technical%20Documentation/Ecosystem/Project%20Management%20Tools/maven-plugin.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Payara Micro Maven Plugin</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Payara Micro has a Maven plugin which can start and stop Payara Micro and create an Uber JAR bundle of the application and Payara Micro.</p>
</div>
<div class="paragraph">
<p>The plugin requires JDK 8 or higher and the latest version is currently <code>1.4.0</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="goals"><a class="anchor" href="#goals"></a>Configurable Goals</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_bundle"><a class="anchor" href="#_bundle"></a><code>bundle</code></h3>
<div class="paragraph">
<p><strong>Aim</strong>: This goal bundles the attached project&#8217;s artifact into an Uber JAR with the specified configurations. By default this goal is attached to the install phase.
<strong>Usage</strong>: <code>mvn payara-micro:bundle</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">    &lt;plugin&gt;
        &lt;groupId&gt;fish.payara.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;payara-micro-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;${payaramicro.maven.plugin.version}&lt;/version&gt;
        &lt;executions&gt;
            &lt;execution&gt;
                &lt;goals&gt;
                    &lt;goal&gt;bundle&lt;/goal&gt;
                &lt;/goals&gt;
            &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
            &lt;startClass&gt;my.custom.start.class.Main&lt;/startClass&gt;
            &lt;deployArtifacts&gt;
                &lt;artifactItem&gt;
                    &lt;groupId&gt;org.mycompany&lt;/groupId&gt;
                    &lt;artifactId&gt;my-project&lt;/artifactId&gt;
                    &lt;version&gt;1.0&lt;/version&gt;
                    &lt;type&gt;ear&lt;/type&gt;
                &lt;/artifactItem&gt;
            &lt;/deployArtifacts&gt;
            &lt;customJars&gt;
                &lt;artifactItem&gt;
                    &lt;groupId&gt;org.primefaces&lt;/groupId&gt;
                    &lt;artifactId&gt;primefaces&lt;/artifactId&gt;
                    &lt;version&gt;6.0&lt;/version&gt;
                &lt;/artifactItem&gt;
            &lt;/customJars&gt;
        &lt;/configuration&gt;
    &lt;/plugin&gt;</code></pre>
</div>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Configuration tags</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>autoDeployArtifact</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the extension of the produced artifact is <code>WAR</code>, it will be copied automatically to the <code>MICRO-INF/deploy</code> directory when this property is set to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>autoDeployContextRoot</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets context root of the deployed artifact if <code>autoDeployArtifact</code> is <code>true</code>. <code>autoDeployContextRoot</code> has the higher precedence compared to the <code>autoDeployEmptyContextRoot</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>autoDeployEmptyContextRoot</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sets context root of the deployed artifact to <code>/</code>  if <code>autoDeployArtifact</code> is <code>true</code>. If set to false, context root is derived from <code>project.build.finalName</code>. If <code>autoDeployContextRoot</code> is specified, <code>autoDeployEmptyContextRoot</code> will be ignored.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>startClass</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(optional):</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Replaces the <code>Start-Class</code> definition that resides in the <code>MANIFEST.MF</code> file with the provided class.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>appendSystemProperties</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">true</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Appends all system properties defined into the <code>payara-boot.properties</code> file.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>payaraVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{currentVersion}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default bundle mojo fetches Payara Micro with version {currentVersion}.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deployArtifacts</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>None</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can contain a list of artifactItems, which defines the dependencies with their GAVs to be copied under MICRO-INF/deploy folder.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>customJars</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>None</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Can contain a list of artifactItems, which defines the dependencies with their GAVs to be copied under MICRO-INF/lib folder.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uberJarClassifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">microbundle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the maven artifact classifier to use for the generated uber-jar.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The <code>bundle</code> goal always searches for domain configuration files in <code>src/main/resources</code> to copy in to the <code>MICRO-INF/domain</code> directory of the  Uber jar. The files which are currently included are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>domain.xml</code></p>
</li>
<li>
<p><code>hazelcast-config.xml</code></p>
</li>
<li>
<p><code>keystore.jks</code></p>
</li>
<li>
<p><code>login.conf</code></p>
</li>
<li>
<p><code>logging.properties</code></p>
</li>
<li>
<p><code>metrics.xml</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Additionally boot command scripts will be included if they exist in <code>src/main/resources</code> and transferred to the <code>MICRO-INF</code> directory of the Uber jar artifact.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>pre-boot-commands.txt</code></dt>
<dd>
<p>Provides a file of asadmin commands to run before booting the server.</p>
</dd>
<dt class="hdlist1"><code>post-boot-commands.txt</code></dt>
<dd>
<p>Provides a file of asadmin commands to run after booting the server.</p>
</dd>
<dt class="hdlist1"><code>post-deploy-commands.txt</code></dt>
<dd>
<p>Provides a file of asadmin commands to run after all deployments have completed.</p>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="_start"><a class="anchor" href="#_start"></a><code>start</code></h3>
<div class="paragraph">
<p><strong>Aim</strong>: This goal starts Payara Micro with the specified configuration.
<strong>Usage</strong>: <code>mvn payara-micro:start</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">&lt;plugin&gt;
    &lt;groupId&gt;fish.payara.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;payara-micro-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${payaramicro.maven.plugin.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;start&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
    &lt;configuration&gt;
        &lt;useUberJar&gt;true&lt;/useUberJar&gt;
        &lt;payaraMicroAbsolutePath&gt;/path/to/payara-micro.jar&lt;/payaraMicroAbsolutePath&gt;
        &lt;payaraVersion&gt;{currentVersion}&lt;/payaraVersion&gt;
        &lt;artifactItem&gt;
            &lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;
            &lt;artifactId&gt;payara-micro&lt;/artifactId&gt;
            &lt;version&gt;{currentVersion}&lt;/version&gt;
        &lt;/artifactItem&gt;
        &lt;daemon&gt;true&lt;/daemon&gt;
        &lt;javaPath&gt;/path/to/Java/Executable&lt;/javaPath&gt;
        &lt;deployWar&gt;true&lt;/deployWar&gt;
        &lt;contextRoot&gt;myApp&lt;/contextRoot&gt;
        &lt;javaCommandLineOptions&gt;
            &lt;option&gt;
                &lt;value&gt;-Xdebug&lt;/value&gt;
            &lt;/option&gt;
            &lt;option&gt;
                &lt;key&gt;-Xrunjdwp:transport&lt;/key&gt;
                &lt;value&gt;dt_socket,server=y,suspend=y,address=5005&lt;/value&gt;
            &lt;/option&gt;
        &lt;/javaCommandLineOptions&gt;
        &lt;commandLineOptions&gt;
            &lt;option&gt;
                &lt;key&gt;--domainconfig&lt;/key&gt;
                &lt;value&gt;/path/to/domain.xml&lt;/value&gt;
            &lt;/option&gt;
            &lt;option&gt;
                &lt;key&gt;--autoBindHttp&lt;/key&gt;
                &lt;value&gt;true&lt;/value&gt;
            &lt;/option&gt;
        &lt;/commandLineOptions&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you want to execute the payara-micro plugin along with maven-toolchains-plugin, you need to execute the plugin as: <code>mvn toolchains:toolchain payara-micro:start</code>. See <a href="#using-toolchains">Using Toolchains</a> for more information.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Configuration tags</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useUberJar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use the created uber-jar that resides in the target folder. The name of the JAR artifact will be resolved automatically by evaluating its final name, artifact ID and version. This configuration element has the higher precedence compared to <code>payaraMicroAbsolutePath</code>, <code>payaraVersion</code> and <code>artifactItem</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uberJarClassifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">microbundle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the maven artifact classifier to use for the Uber JAR.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>payaraMicroAbsolutePath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Absolute path to the Payara Micro executable.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>payaraVersion</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">{currentVersion}</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">By default start mojo fetches payara-micro with version {currentVersion}.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>artifactItem</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines payara-micro artifact with its coordinates. Specified artifact should be available in local maven repository.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>daemon</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Starts Payara Micro in separate JVM process and continues with the maven build.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>immediateExit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If Payara Micro is executed in daemon mode, the executor thread will wait for the ready message before shutting down its process. By setting <code>immediateExit</code> to <code>true</code> you can skip this and instantly interrupt the executor thread.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javaPath</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>java</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Absolute path to the java executable. This has higher priority to the java executable identified via the Maven toolchain.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>deployWar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If the attached project is of type WAR, it will automatically be deployed if <code>deployWar</code> is set to <code>true</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>contextRoot</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the context root of an application.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>javaCommandLineOptions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a list of command line options that will be passed to <code>java</code> executable. Command line options can either be defined as key-value pairs or just as list of values. key-value pairs will be formatted as <code>key=value</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>commandLineOptions</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a list of command line options that will be passed onto payara-micro.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hotDeploy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables the Hot Deploy mode.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_stop"><a class="anchor" href="#_stop"></a><code>stop</code></h3>
<div class="paragraph">
<p><strong>Aim</strong>: This goal stops Payara Micro with the specified configuration. By default this goal tries to find the currently executing Payara Micro instance by checking the running JAR. If an <code>artifactItem</code> is defined, it will take precedence for identifying currently running instances. If <code>processId</code> is defined, this takes the highest precedence and the given <code>processId</code> will immediately kill the executing Payara Micro instance.
<strong>Usage</strong>: <code>mvn payara-micro:stop</code></p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">&lt;plugin&gt;
    &lt;groupId&gt;fish.payara.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;payara-micro-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;${payaramicro.maven.plugin.version}&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;stop&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
    &lt;configuration&gt;
        &lt;processId&gt;32333&lt;/processId&gt;
        &lt;artifactItem&gt;
            &lt;groupId&gt;fish.payara.extras&lt;/groupId&gt;
            &lt;artifactId&gt;payara-micro&lt;/artifactId&gt;
            &lt;version&gt;{currentVersion}&lt;/version&gt;
        &lt;/artifactItem&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you want to execute the payara-micro plugin along with maven-toolchains-plugin, you need to execute the plugin as: <code>mvn toolchains:toolchain payara-micro:start</code>. See <a href="#using-toolchains">Using Toolchains</a> for more information.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Configuration tags</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>processId</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Process id of the running Payara Micro instance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>artifactItem</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines payara-micro artifact with its coordinates. This information is used to identify the process id of the running Payara Micro instance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>useUberJar</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use the name of the created uber-jar that resides in target folder to identify the process id of the running Payara Micro instance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>uberJarClassifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">microbundle</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Specifies the maven artifact classifier of the generated uber-jar to identify the process id of the running Payara Micro instance.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>maxStopTimeoutMillis</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5000</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines the maximum timeout in milliseconds to wait for the process of Payara Micro Community instance to stop.</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_reload"><a class="anchor" href="#_reload"></a><code>reload</code></h3>
<div class="paragraph">
<p><strong>Aim</strong>: This goal reloads the Payara Micro application with the specified configuration. By default, this goal performs the vanilla deployment of the application without restarting the Payara Micro instance. If <code>hotDeploy</code> is set to true then the Hot Deploy functionality will be enabled.
<strong>Usage</strong>: <code>mvn payara-micro:reload</code></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This goal is specifically designed for integration with the IDEs and Editors. Payara Micro instance allows IDEs to deploy the application in Hot Deploy mode by reusing the existing application instance and updating its classloader and internal components relative to the modified source. This can lead to significant savings of time when an application is redeployed and boost developer productivity even more.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Configuration tags</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 10%;">
<col style="width: 70%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Element</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>hotDeploy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables the Hot Deploy mode.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sourcesChanged</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>none</em></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Defines a list (comma separated) of the absolute paths to the source file which need to be reloaded via the Hot Deploy feature.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>metadataChanged</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">If set to true, reloads deployment descriptors metadata in Hot Deploy mode</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="using-toolchains"><a class="anchor" href="#using-toolchains"></a>Using Toolchains</h3>
<div class="paragraph">
<p>The Maven Toolchains provide a way for plugins to discover what JDK (or other tools) are to be used during the build and Payara Micro Maven Plugin also supports using toolchains with its configuration.</p>
</div>
<div class="paragraph">
<p>In order to use the toolchains with either <code>payara-micro:start</code> or <code>payara-micro:stop</code>, first toolchains plugin should be defined as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-XML hljs" data-lang="XML">&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-toolchains-plugin&lt;/artifactId&gt;
    &lt;version&gt;1.1&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;toolchain&lt;/goal&gt;
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
    &lt;configuration&gt;
        &lt;toolchains&gt;
            &lt;jdk&gt;
                &lt;version&gt;1.8&lt;/version&gt;
                &lt;vendor&gt;oracle&lt;/vendor&gt;
            &lt;/jdk&gt;
        &lt;/toolchains&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>toolchains.xml is the file for configuring each toolchain and it should reside under the .m2 folder. A sample would be as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;?xml version="1.0" encoding="UTF8"?&gt;
&lt;toolchains&gt;
    &lt;toolchain&gt;
        &lt;type&gt;jdk&lt;/type&gt;
        &lt;provides&gt;
            &lt;version&gt;1.7&lt;/version&gt;
            &lt;vendor&gt;oracle&lt;/vendor&gt;
        &lt;/provides&gt;
        &lt;configuration&gt;
            &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/jdk1.7.0_80.jdk/Contents/Home&lt;/jdkHome&gt;
        &lt;/configuration&gt;
    &lt;/toolchain&gt;
    &lt;toolchain&gt;
        &lt;type&gt;jdk&lt;/type&gt;
        &lt;provides&gt;
            &lt;version&gt;1.8&lt;/version&gt;
            &lt;vendor&gt;oracle&lt;/vendor&gt;
        &lt;/provides&gt;
        &lt;configuration&gt;
            &lt;jdkHome&gt;/Library/Java/JavaVirtualMachines/jdk1.8.0_131.jdk/Contents/Home&lt;/jdkHome&gt;
        &lt;/configuration&gt;
    &lt;/toolchain&gt;
&lt;/toolchains&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The version and the vendor defined in the plugins section should match one of the entries defined in the toolchains.xml file. After configuring the toolchain, the plugin can be executed with <code>start</code> and <code>stop</code> goals as:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn toolchains:toolchain payara-micro:start
mvn toolchains:toolchain payara-micro:stop</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../_/js/vendor/docSearch.js"></script>
  </body>
</html>
