<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Deployment Groups :: Payara Documentation Preview</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
    <meta name="docsearch:version" content="5.36.0" />
  </head>
  <body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../..">Payara Documentation Preview</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item hide-for-print">
        Version: <div class="page-versions">
  <button class="version-menu-toggle single-version" title="Current version">5.36.0</button>
</div>

      </div>
      <div class="navbar-item hide-for-print">
            <div id="search-input-container">
    </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.payara.fish/products/downloads/">Download</a>
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary enterprise" href="../../../../../../enterprise">Documentation for Payara Enterprise</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="5.36.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">5.36.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../index.html">5.36.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../index.html">docs</a></li>
    <li><a href="Overview.html">Deployment Groups</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/alanroth/Workspace/ondro-poc/docs/modules/ROOT/pages/Technical%20Documentation/Payara%20Server%20Documentation/Deployment%20Groups/Overview.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Deployment Groups</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Deployment Groups are a new feature in Payara Server 5. The Deployment Group is designed to replace the deployment targeting aspect of Clusters
that was available in previous versions of Payara.</p>
</div>
<div class="paragraph">
<p><strong>For more information about Deployment Groups in Payara Server 5, read our blog articles on this topic:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="https://blog.payara.fish/clustering-and-deployment-groups-in-payara-server-5">Clustering and Deployment Groups in Payara Server 5</a>.</p>
</li>
<li>
<p><a href="https://blog.payara.fish/deployment-groups-in-payara-server-5">Deployment Groups on Payara Server 5</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_why_replace_clusters"><a class="anchor" href="#_why_replace_clusters"></a>Why replace Clusters</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Cluster in Payara Server 4 encapsulated a number of concepts;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>First it was a target of deployment</p>
</li>
<li>
<p>Second it provided in-memory data storage for web sessions and Stateful Session Beans</p>
</li>
<li>
<p>Third it defined a configuration</p>
</li>
<li>
<p>Fourth it treated a number of Payara Server Instances as a single grouping</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>With the introduction of the Domain Data Grid the concept of data persistence
was split from the Cluster concept to allow all instances to automatically cluster
and share data. The introduction of the deployment group splits out the targeting aspect
 of clusters.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_is_a_deployment_group"><a class="anchor" href="#_what_is_a_deployment_group"></a>What is a Deployment Group</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A Deployment Group is a loose grouping of Payara Server instances that can be used as a target for deployments.
Deployment Groups consist of 1 or more Payara Server instances and each Payara Server Instance can belong to one or more Deployment Groups.</p>
</div>
<div class="paragraph">
<p>Deployment Groups can also be used to manage the lifecycle of the instances in the group.
All instances can be started, re-started and stopped using the deployment group.
Restarting all the instances in the deployment group performs a rolling restart
whereby each instance is restarted in turn to ensure that any data grid held data
is retained across the group restart.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_a_deployment_group"><a class="anchor" href="#_creating_a_deployment_group"></a>Creating a Deployment Group</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A deployment group can be created in both the administration console and via Asadmin</p>
</div>
<div class="sect2">
<h3 id="_using_the_administration_console"><a class="anchor" href="#_using_the_administration_console"></a>Using the Administration console</h3>
<div class="paragraph">
<p>To create a new deployment group. Navigate to the Deployment Groups node in the navigation
tree, click on the New button and give the deployment group a unique name. From
this screen it is also possible to add a number of new server instances if desired,
however it is possible to add existing instances to the group later.
<span class="image"><img src="../../../_images/deployment-groups/deployment-group-new.png" alt="Create New Deployment Group"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_using_asadmin_commands"><a class="anchor" href="#_using_asadmin_commands"></a>Using asadmin commands</h3>
<div class="paragraph">
<p>To create a new deployment group run the command;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; create-deployment-group test</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deleting_a_deployment_group"><a class="anchor" href="#_deleting_a_deployment_group"></a>Deleting a Deployment Group</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A deployment group can be deleted in both the administration console and via Asadmin.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When you delete a deployment group that has instances within it these
instances are not deleted.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_using_the_administration_console_2"><a class="anchor" href="#_using_the_administration_console_2"></a>Using the Administration Console</h3>
<div class="paragraph">
<p>To delete a deployment group. Navigate to the group in the console, select it and choose delete.
<span class="image"><img src="../../../_images/deployment-groups/delete-deployment-group.png" alt="Delete a Deployment Group"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="_using_asadmin_commands_2"><a class="anchor" href="#_using_asadmin_commands_2"></a>Using asadmin commands</h3>
<div class="paragraph">
<p>To delete a deployment group run the command;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; delete-deployment-group test</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_managing_deployment_group_membership"><a class="anchor" href="#_managing_deployment_group_membership"></a>Managing Deployment Group Membership</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_adding_an_instance"><a class="anchor" href="#_adding_an_instance"></a>Adding an instance</h3>
<div class="paragraph">
<p>When you have an existing standalone instance it can be assigned to a deployment group
using the administration console and via asadmin. To add an existing instance to
a deployment group. Navigate to the deployment group in the administration Console and
then select the instance in the drop down from the Instances tab.
<span class="image"><img src="../../../_images/deployment-groups/add-server-to-dg.png" alt="Add a Server to a Deployment Group"></span>
The same can be achieved using the asadmin command;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; add-instance-to-deployment-group --instance testserver --deploymentgroup test2</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
An instance can be in many deployment Groups
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_removing_an_instance"><a class="anchor" href="#_removing_an_instance"></a>Removing an Instance</h3>
<div class="paragraph">
<p>If you want to remove an instance from a deployment group. Navigate to the deployment group,
select the instance and choose remove from the "more actions&#8230;&#8203;" drop down.
<span class="image"><img src="../../../_images/deployment-groups/remove-server-from-dg.png" alt="Remove a Server from a Deployment Group"></span>
The same can be acheived using the asadmin command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; remove-instance-from-deployment-group --instance testserver --deploymentgroup test2</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_server_lifecycle_management"><a class="anchor" href="#_server_lifecycle_management"></a>Server Lifecycle Management</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A deployment group can also be used to provide lifecycle management to the group
of server instances in the deployment group. All servers in the group can be started,
stopped and restarted. To do this, navigate to the deployment group and choose "Start Deployment Group",
"Stop Deployment Group" or "Restart Deployment Group".</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
These commands are Data Grid safe and restart the deployment group in
such a way as to minimize the danger of Data Grid disruption.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/deployment-groups/lifecycle-dg.png" alt="Server Lifecycle Management"></span></p>
</div>
<div class="paragraph">
<p>The same can be achieved using the asadmin commands;</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; start-deployment-group test2
asadmin&gt; restart-deployment-group test2
asadmin&gt; stop-deployment-group test2</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_deploying_applications_to_a_deployment_group"><a class="anchor" href="#_deploying_applications_to_a_deployment_group"></a>Deploying Applications to a Deployment Group</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To deploy an application to a deployment group you just select the deployment group
name in the list of targets in the usual way. This can be done both on the Applications
 tab of the Deployment Group or on the Applications section of the administration console.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../_images/deployment-groups/deploy-to-dg.png" alt="Deploy to a deployment group"></span></p>
</div>
<div class="paragraph">
<p>To deploy an application using asadmin just specify the deployment group as a target when
running the deploy command.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; deploy --target test2 test.war</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The same targeting also works for resources.
</td>
</tr>
</table>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../_/js/site.js"></script>
<script async src="../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../_/js/vendor/docSearch.js"></script>
  </body>
</html>
