<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Datadog Notifier :: Payara Documentation Preview</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
    <meta name="docsearch:version" content="5.36.0" />
  </head>
  <body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../../..">Payara Documentation Preview</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item hide-for-print">
        Version: <div class="page-versions">
  <button class="version-menu-toggle single-version" title="Current version">5.36.0</button>
</div>

      </div>
      <div class="navbar-item hide-for-print">
            <div id="search-input-container">
    </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.payara.fish/products/downloads/">Download</a>
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary enterprise" href="../../../../../../../enterprise">Documentation for Payara Enterprise</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="5.36.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">5.36.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../../index.html">5.36.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../../index.html">docs</a></li>
    <li><a href="Datadog.html">Datadog Notifier</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/alanroth/Workspace/ondro-poc/docs/modules/ROOT/pages/Technical%20Documentation/Payara%20Server%20Documentation/Extensions/Notifiers/Datadog.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Datadog Notifier</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><a href="https://www.datadoghq.com">Datadog</a> is a cloud metric aggregator that simplifies the gathering and visualization of multiple platform stacks and services that can be on premises or on the cloud. Datadog also eases browsing through of all this information by implementing combination graphs (multiple graphs that can be configured on a single view) of related metrics.</p>
</div>
<div class="paragraph">
<p>Datadog supports gathering metrics from the following sources:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cloud Providers (Amazon Web Services, Microsoft Azure, Google Cloud Platform)</p>
</li>
<li>
<p>Message Queues (Apache Kafka, ActiveMQ, RabbitMQ)</p>
</li>
<li>
<p>Code Repositories (GitHub, Bitbucket)</p>
</li>
<li>
<p>Clustering and DevOps Tools (Apache Mesos, Kubernetes, Docker)</p>
</li>
<li>
<p>Web Servers (Apache HTTP, Nginx, LightHTTP)</p>
</li>
<li>
<p>SQL and NoSQL Databases (MySQL, PostgreSQL, MongoDB, CouchBase)</p>
</li>
<li>
<p>Monitoring Solutions (New Relic, Nagios, Splunk, Amazon Cloud Trail)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Payara Server includes a special notifier to send notifications from the Notification service to a Datadog account by means of an API key.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="downloads"><a class="anchor" href="#downloads"></a>Downloads</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><a href="https://nexus.payara.fish/repository/payara-artifacts/fish/payara/extensions/notifiers/datadog-notifier-core/1.0/datadog-notifier-core-1.0.jar">Datadog Notifier Core 1.0</a></p>
</li>
<li>
<p><a href="https://nexus.payara.fish/repository/payara-artifacts/fish/payara/extensions/notifiers/datadog-notifier-console-plugin/1.0/datadog-notifier-console-plugin-1.0.jar">Datadog Notifier Console Plugin 1.0</a></p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="datadog-integration-configuration"><a class="anchor" href="#datadog-integration-configuration"></a>Datadog Account Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you create a Datadog account, the service will provide you a default API key that you can use to integrate Payara Server with your account.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can signup for a free trial account (14 days) if you want to test this integration without having to worry about a permanent subscription.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Here are the instructions to retrieve the API keys:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>First, access the Datadog administration panel located at <a href="https://app.datadoghq.com/" class="bare">https://app.datadoghq.com/</a>. Then, in the side menu select the <em>Integrations</em> &#8594; <em>APIs</em> option:</p>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/notification-service/datadog/side-menu.png" alt="Datadog Admin Panel Side Menu"></span></p>
</div>
</li>
<li>
<p>On the APIs tab you will observe the default API Key available for integration:</p>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/notification-service/datadog/apikey-panel.png" alt="Datadog API Key Panel"></span></p>
</div>
<div class="paragraph">
<p>You can also create a new API key if you want to use it exclusively for your Payara Server installation.</p>
</div>
</li>
<li>
<p>Assign a name to the default API key or a newly created key, so you can identify which services or platform stacks are integrating with Datadog other than your Payara Server installation:</p>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/notification-service/datadog/apikey-name-dialog.png" alt="Datadog API Key Name"></span></p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect1">
<h2 id="payara-server-configuration"><a class="anchor" href="#payara-server-configuration"></a>Payara Server Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Having retrieved the API key from Datadog&#8217;s administration panel, it&#8217;s necessary to configure this key to the notification service on Payara Server.</p>
</div>
<div class="sect2">
<h3 id="using-the-admin-console"><a class="anchor" href="#using-the-admin-console"></a>Using the Admin Console</h3>
<div class="paragraph">
<p>To configure the Notification Service in the Administration Console, go to <em>Configuration &#8594; [instance-configuration (like server-config)] &#8594; Notification Service</em> and click on the <strong>Datadog</strong> tab:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/notification-service/datadog/admin-console-configuration.png" alt="Datadog Configuration on Admin Console"></span></p>
</div>
<div class="paragraph">
<p>Check the <strong>Enabled</strong> box (and the <strong>Dynamic</strong> box too if you don&#8217;t want to restart the domain) and input the three tokens highlighted in the previous section. Hit the <strong>Save</strong> button to preserve the changes.</p>
</div>
</div>
<div class="sect2">
<h3 id="using-the-asadmin-cli"><a class="anchor" href="#using-the-asadmin-cli"></a>Using the Asadmin CLI</h3>
<div class="paragraph">
<p>To configure the Notification Service from the command line, use the <code>set-datadog-notifier-configuration</code> asadmin command, specifying the tokens like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; set-datadog-notifier-configuration --dynamic=true --key=af510f122026bc9107f7c5f4f049e597 --enabled=true</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can use the <code>--enabled</code> and <code>--dynamic</code> options to enable or disable the Datadog notifier on demand.</p>
</div>
<div class="paragraph">
<p>Also, you can retrieve the current configuration for the Datadog notifier using the <code>get-datadog-notifier-configuration</code> asadmin command like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin &gt; get-datadog-notifier-configuration

Enabled  Noisy  Key
true     false  af510f122026bc9107f7c5f4f049e597</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="troubleshooting"><a class="anchor" href="#troubleshooting"></a>Troubleshooting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you have correctly configured the Datadog notifier, Datadog can gather relevant monitoring events from your Payara Server installation. If you do not see any notification event messages on your Datadog account, check the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Is the Datadog notifier enabled?</p>
</li>
<li>
<p>Is the Notification Service itself enabled?</p>
</li>
<li>
<p>Is there a service configured to use the notifier? (e.g. the HealthCheck service)</p>
</li>
<li>
<p>Is the service configured to send notifications frequently enough to observe?</p>
</li>
<li>
<p>Have you enabled the service after configuring it?</p>
</li>
<li>
<p>Does the configured API key on Payara Server match one of the API keys configured on your Datadog account?</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Here&#8217;s a sample of how the notifications are visualized on the Datadog event notification panel (on the side menu select the <em>Event</em> option):</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/notification-service/datadog/event-sample.png" alt="Datadog Events Sample"></span></p>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../../_/js/site.js"></script>
<script async src="../../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../../_/js/vendor/docSearch.js"></script>
  </body>
</html>
