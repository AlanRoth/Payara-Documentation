<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Asadmin Recorder :: Payara Documentation Preview</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
    <meta name="docsearch:version" content="5.36.0" />
  </head>
  <body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../../..">Payara Documentation Preview</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item hide-for-print">
        Version: <div class="page-versions">
  <button class="version-menu-toggle single-version" title="Current version">5.36.0</button>
</div>

      </div>
      <div class="navbar-item hide-for-print">
            <div id="search-input-container">
    </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.payara.fish/products/downloads/">Download</a>
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary enterprise" href="../../../../../../../enterprise">Documentation for Payara Enterprise</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="5.36.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">5.36.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../../index.html">5.36.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../../index.html">docs</a></li>
    <li><a href="asadmin-recorder.html">Asadmin Recorder</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/alanroth/Workspace/Payara-Documentation/docs/modules/ROOT/pages/Technical%20Documentation/Payara%20Server%20Documentation/Server%20Configuration%20And%20Management/Admin%20Console%20Enchancements/asadmin-recorder.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Asadmin Recorder</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Since Payara Server 4.1.1.162</em></p>
</div>
<div class="paragraph">
<p>This feature allows you to record the actions you take in the admin
console as asadmin commands, aiding with automating or reproducing your
setup across multiple Payara Server Community installations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="starting-and-stopping-the-asadmin-recorder"><a class="anchor" href="#starting-and-stopping-the-asadmin-recorder"></a>Starting and Stopping the Asadmin Recorder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>From the admin console, you should be able to see a button labelled
<em>Enable Asadmin Recorder</em> or <em>Disable Asadmin Recorder</em>, depending on
whether or not the asadmin recorder feature is enabled or not. Clicking
this button will enable or disable the asadmin recorder feature
respectively:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/recorder/enable-recorder.png" alt="Enable recorder in Web Console"></span></p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/recorder/disable-recorder.png" alt="Disable recorder in Web Console"></span></p>
</div>
<div class="paragraph">
<p>Once enabled, actions in the admin console that have a corresponding
<code>asadmin</code> command will be recorded to a file. By default, this file is
located in the domain directory, and is called <em>asadmin-commands.txt</em>.</p>
</div>
<div class="paragraph">
<p>Once enabled or disabled, the asadmin recorder will remain
enabled/disabled until specifically enabled or disabled again through
the web console or using the appropriate asadmin command. This means that the
asadmin recorder will remain enabled or disabled across server restarts.</p>
</div>
<div class="paragraph">
<p>You can also enable or disable the asadmin recorder on its configuration
page (detailed in the following section), or by using the following asadmin commands:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>enable-asadmin-recorder</code></dt>
<dd>
<p>Enables the asadmin recorder.</p>
</dd>
<dt class="hdlist1"><code>disable-asadmin-recorder</code></dt>
<dd>
<p>Disables the asadmin recorder.</p>
</dd>
<dt class="hdlist1"><code>set-asadmin-recorder-configuration --enabled true</code></dt>
<dd>
<p>Alternative way
of enabling the asadmin recorder.</p>
</dd>
<dt class="hdlist1"><code>set-asadmin-recorder-configuration --enabled false</code></dt>
<dd>
<p>Alternative way
of disabling the asadmin recorder.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-asadmin-recorder"><a class="anchor" href="#configuring-the-asadmin-recorder"></a>Configuring the Asadmin Recorder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To configure the asadmin recorder, navigate to the following page in the
admin console: <em>server &#8594; Asadmin Recorder</em>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/recorder/recorder-config.png" alt="Asadmin recorder configuration"></span></p>
</div>
<div class="paragraph">
<p>You will be presented with the following configuration options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><em>Enabled</em></dt>
<dd>
<p>Sets whether the asadmin recorder service should be
enabled or disabled.</p>
</dd>
<dt class="hdlist1"><em>Filter Commands</em></dt>
<dd>
<p>Sets whether or not to exclude the <code>asadmin</code>
commands and regular expressions listed in the <em>Filtered Commands</em>
setting from being recorded.</p>
</dd>
<dt class="hdlist1"><em>Output Location</em></dt>
<dd>
<p>The absolute file path for the <code>asadmin</code> commands to
be written to. This defaults to a file called <em>asadmin-commands.txt</em> in
the domain directory.</p>
</dd>
<dt class="hdlist1"><em>Filtered Commands</em></dt>
<dd>
<p>A comma separated list of asadmin commands and
regular expressions to be excluded from being recorded if the <em>Filter Commands</em>
option is enabled.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The default regular expressions and asadmin commands set in the
<em>Filtered Commands</em> option are a selection of commands and regular
expressions that are typically not needed for any automation purposes,
yet are still sometimes called by commands and through navigation of the
admin console. If you remove any of these commands from the filtered
commands list, or choose not to filter any commands at all, the asadmin
commands script is liable to get filled up with these commands. Due to
this behavior, it is advised that you only add to this list, only removing the
defaults if you really need to.</p>
</div>
<div class="paragraph">
<p>Be sure to click on the <em>Save</em> button to have any changes you make take
effect.</p>
</div>
<div class="paragraph">
<p>In addition to using the admin console, you can configure the asadmin
recorder service using the <code>set-asadmin-recorder-configuration</code> command.
The command takes the following parameters:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><code>--enabled</code></dt>
<dd>
<p>Enables or Disables the Asadmin Recorder service.</p>
</dd>
<dt class="hdlist1"><code>--outputLocation</code></dt>
<dd>
<p>Specifies the absolute file path of where the
recorded asadmin commands will be written to.</p>
</dd>
<dt class="hdlist1"><code>--filterCommands</code></dt>
<dd>
<p>Specifies whether or not the commands specified
with the <em>--filteredcommands</em> option should be excluded from being
recorded or not.</p>
</dd>
<dt class="hdlist1"><code>--filteredCommands</code></dt>
<dd>
<p>A comma separated list of asadmin commands and
regular expressions to exclude from being recorded.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>As an example, the following will enable the asadmin recorder, set the
output location to <em>/home/user/asadmin-commands.txt</em>, and prevent the
<code>start-instance</code> command from being recorded (in addition to the
default configuration):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin set-asadmin-recorder-configuration --enabled true --outputLocation /home/user/asadmin-commands.txt --filterCommands true --filteredCommands "version,_(.*),list(.*),get(.*),uptime,enable-asadmin-recorder,disable-asadmin-recorder,set-asadmin-recorder-configuration,asadmin-recorder-enabled,start-instance"</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="running-the-generated-scripts"><a class="anchor" href="#running-the-generated-scripts"></a>Running the Generated Scripts</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Documentation on running asadmin scripts can be found in
the <em>GlassFish Server Administration Guide</em>, under the <em>Run a Set of
asadmin Subcommands From a File</em> section. The guide can be found in
the <em>GlassFish Server {glassfishVersion} Open Source Edition Documentation</em>
referenced in the <a href="../../Overview.html" class="page">Payara Server Documentation Overview</a></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asadmin-commands"><a class="anchor" href="#asadmin-commands"></a>Asadmin Commands</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following is the list of available asadmin commands with their available
options to configure the asadmin recorder:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Command</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Options</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">get-asadmin-recorder-configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns the current configuration
of the Asadmin Recorder service.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">set-asadmin-recorder-configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configures the Asadmin Recorder
service.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="ulist">
<ul>
<li>
<p><code>--enabled</code> - Enables or Disables the Asadmin Recorder
service.</p>
</li>
<li>
<p><code>--outputLocation</code> - Specifies the absolute file path of where
the recorded asadmin commands will be written to.</p>
</li>
<li>
<p><code>--filterCommands</code> - Specifies whether or not the commands specified
with the <em>--filteredcommands</em> option should be excluded from being
recorded or not.</p>
</li>
<li>
<p><code>--filteredCommands</code> - A comma separated list of asadmin commands
and regular expressions to exclude from being recorded.</p>
</li>
</ul>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">enable-asadmin-recorder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Enables the Asadmin Recorder service with it&#8217;s
current configuration settings.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">disable-asadmin-recorder</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Disables the Asadmin Recorder service.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">asadmin-recorder-enabled</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Returns whether or not the Asadmin Recorder
service is enabled.</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>None</p>
</div></div></td>
</tr>
</tbody>
</table>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../../_/js/site.js"></script>
<script async src="../../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../../_/js/vendor/docSearch.js"></script>
  </body>
</html>
