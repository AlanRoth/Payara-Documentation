<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Admin Console Auditing Service :: Payara Documentation Preview</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
    <meta name="docsearch:version" content="5.36.0" />
  </head>
  <body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../../..">Payara Documentation Preview</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item hide-for-print">
        Version: <div class="page-versions">
  <button class="version-menu-toggle single-version" title="Current version">5.36.0</button>
</div>

      </div>
      <div class="navbar-item hide-for-print">
            <div id="search-input-container">
    </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.payara.fish/products/downloads/">Download</a>
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary enterprise" href="../../../../../../../enterprise">Documentation for Payara Enterprise</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="5.36.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">5.36.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../../index.html">5.36.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../../index.html">docs</a></li>
    <li><a href="Auditing%20Service.html">Admin Console Auditing Service</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/alanroth/Workspace/Payara-Documentation/docs/modules/ROOT/pages/Technical%20Documentation/Payara%20Server%20Documentation/Server%20Configuration%20And%20Management/Admin%20Console%20Enchancements/Auditing%20Service.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Admin Console Auditing Service</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p><em>Since Payara Server 5.192</em></p>
</div>
<div class="paragraph">
<p>This feature allows users to log all actions and operations executed via the admin console for auditing purposes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="configuring-the-auditing-service"><a class="anchor" href="#configuring-the-auditing-service"></a>Configuring the Auditing Service</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All operations executed by users with access to the admin console will be translated to events that correspond to the specific admin user that executed the operation and the <code>asadmin</code> command (and its parameters) that is equivalent to the operation being executed in the admin console. For example if the default <code>admin</code> user modifies the monitoring level of the <em>Web Services Container</em>, the following event will be generated:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>AUDIT - admin issued command set with parameters
{
    DEFAULT: [configs.config.server-config.monitoring-service.module-monitoring-levels.web-services-container=HIGH]
}</pre>
</div>
</div>
<div class="paragraph">
<p>The auditing service will relay these events to the <a href="../../Logging%20and%20Monitoring/Notification%20Service/Notification%20Service.html" class="page">Notification Service</a>. In this manner, administrators can be alerted of suspicious activity as soon as possible.</p>
</div>
<div class="paragraph">
<p>This service can be configured from the admin console and from the command line.</p>
</div>
<div class="sect2">
<h3 id="from-the-admin-console"><a class="anchor" href="#from-the-admin-console"></a>From the Admin Console</h3>
<div class="paragraph">
<p>The auditing service configuration can be found in the web console under <code>Configurations</code> &#8594; <code>&lt;configuration-name&gt;`</code> &#8594; <code>Security</code> &#8594; <code>Admin Audit</code>:</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/admin-console/admin-audit-menu.png" alt="Admin Audit Service in Web Console"></span></p>
</div>
<div class="paragraph">
<p>Once enabled, actions in the admin console that have a corresponding <code>asadmin</code> command will be sent to the <a href="../../Logging%20and%20Monitoring/Notification%20Service/Notification%20Service.html" class="page">Notification service</a>.</p>
</div>
<div class="paragraph">
<p>Check the <strong>Enabled</strong> option (and the <strong>Dynamic</strong> option too if you don&#8217;t want to
restart the domain) to switch the auditing service on.</p>
</div>
<div class="paragraph">
<p>The <strong>Audit Level</strong> options sets the level of operations that will be logged:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>MODIFIERS</strong></dt>
<dd>
<p>(Default setting) All operations that modify the configuration of the server in some capacity.</p>
</dd>
<dt class="hdlist1"><strong>ACCESSORS</strong></dt>
<dd>
<p>All operations query the configuration of the server in some capacity.</p>
</dd>
<dt class="hdlist1"><strong>INTERNAL</strong></dt>
<dd>
<p>All existing operations, including internal operations of the server.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Aside from this configuration setting, you can also define which notifiers will be used to relay the admin console audit events by moving them to the <strong>Selected Notifiers</strong> box.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../../../../_images/Request%20Tracing%20Service/select-notifiers.png" alt="Activate Notifiers in the Admin Console"></span></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Keep in mind that for audit events to be relayed to the
selected notifiers, both the Notification Service and each selected notifier must be enabled and configured beforehand.
</td>
</tr>
</table>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You don&#8217;t need to manually add each notifier on this screen. When enabling
a notifier on its configuration screen, the server will <strong>automatically</strong> add it to the list of selected notifiers for the Admin audit service. This same result occurs when enabling the notifier using the appropriate <em>asadmin</em> command.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="from-the-commandline"><a class="anchor" href="#from-the-commandline"></a>From the Command Line</h3>
<div class="paragraph">
<p>The following is the list of available asadmin commands with their available
options to configure the auditing service:</p>
</div>
<div class="sect3">
<h4 id="set-admin-audit-configuration"><a class="anchor" href="#set-admin-audit-configuration"></a><code>set-admin-audit-configuration</code></h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Usage</strong></dt>
<dd>
<p><code>asadmin&gt; set-admin-audit-configuration</code></p>
</dd>
<dt class="hdlist1"><strong>Aim</strong></dt>
<dd>
<p>This command can be used to set the configuration settings of the service.</p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="command-options"><a class="anchor" href="#command-options"></a>Command Options</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Mandatory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--enabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enables or disables the service</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--dynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether to apply changes immediately of after a domain restart.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--auditLevel</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Sets the auditing level. One of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>MODIFIERS</p>
</li>
<li>
<p>ACCESSORS</p>
</li>
<li>
<p>INTERNAL</p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">MODIFIERS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="example"><a class="anchor" href="#example"></a>Example</h5>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; set-admin-audit-configuration --enabled=true --dynamic=true --auditLevel=ACCESSORS

Command set-admin-audit-configuration executed successfully.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="set-admin-audit-service-notifier-configuration"><a class="anchor" href="#set-admin-audit-service-notifier-configuration"></a><code>set-admin-audit-service-notifier-configuration</code></h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Usage</strong></dt>
</dl>
</div>
<div class="listingblock">
<div class="content">
<pre>asadmin&gt; set-admin-audit-service-notifier-configuration
 --notifier=&lt;string&gt;
 --enabled=true|false
 --dynamic=true|false
 --noisy=true|false</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Aim</strong></dt>
<dd>
<p>This command can be used to enable or disable a specific notifier and the verbosity of the events being relayed.</p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="command-options-1"><a class="anchor" href="#command-options-1"></a>Command Options</h5>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
<col style="width: 20%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Option</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Default</th>
<th class="tableblock halign-left valign-top">Mandatory</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--notifier</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The notifier to configure. One of (case insensitive):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>LOG</code></p>
</li>
<li>
<p><code>HIPCHAT</code></p>
</li>
<li>
<p><code>SLACK</code></p>
</li>
<li>
<p><code>JMS</code></p>
</li>
<li>
<p><code>EMAIL</code></p>
</li>
<li>
<p><code>XMPP</code></p>
</li>
<li>
<p><code>SNMP</code></p>
</li>
<li>
<p><code>EVENTBUS</code></p>
</li>
<li>
<p><code>NEWRELIC</code></p>
</li>
<li>
<p><code>DATADOG</code></p>
</li>
<li>
<p><code>CDIEVENTBUS</code></p>
</li>
</ul>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--enable</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enables or disables the notifier</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--noisy</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Enables or disables <strong>noisy mode</strong>. A noisy notifier includes verbose information in the notifiers output.</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--dynamic</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boolean</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>Whether to apply the changes immediately or after server restart</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">false</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>--target</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">String</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="paragraph">
<p>The instance or cluster that will be configured</p>
</div></div></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">no</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect4">
<h5 id="example-1"><a class="anchor" href="#example-1"></a>Examples</h5>
<div class="paragraph">
<p>To configure the auditing service to relay events to the log notifier without having to restart the domain run the following command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; set-admin-audit-service-notifier-configuration --notifier=log --enabled=true --dynamic=true --noisy=false
log.enabled was false set to true
log.noisy was true set to false

Command set-admin-audit-service-notifier-configuration executed successfully.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="get-admin-audit-configuration"><a class="anchor" href="#get-admin-audit-configuration"></a><code>get-admin-audit-configuration</code></h4>
<div class="dlist">
<dl>
<dt class="hdlist1"><strong>Usage</strong></dt>
<dd>
<p><code>asadmin&gt; get-admin-audit-configuration</code></p>
</dd>
<dt class="hdlist1"><strong>Aim</strong></dt>
<dd>
<p>This command can be used to list the configuration settings of the auditing service.</p>
</dd>
</dl>
</div>
<div class="sect4">
<h5 id="command-options-2"><a class="anchor" href="#command-options-2"></a>Command Options</h5>
<div class="paragraph">
<p>There are no available options for this command.</p>
</div>
</div>
<div class="sect4">
<h5 id="example-2"><a class="anchor" href="#example-2"></a>Example</h5>
<div class="paragraph">
<p>Running the following command will yield the current configuration of the auditing service:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">asadmin&gt; get-admin-audit-configuration

Enabled  Audit Level
false    MODIFIERS
Name     Notifier Enabled
LOG      false

Command get-admin-audit-configuration executed successfully.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The first row corresponds to the service configuration, second row onwards will detail any notifiers being configured..
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../../_/js/site.js"></script>
<script async src="../../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../../_/js/vendor/docSearch.js"></script>
  </body>
</html>
