<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using variable references :: Payara Documentation Preview</title>
    <meta name="generator" content="Antora 2.2.0">
    <link rel="stylesheet" href="../../../../../../../_/css/site.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@alpha" />
    <meta name="docsearch:version" content="5.36.0" />
  </head>
  <body class="article">
  <header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../../../../../../..">Payara Documentation Preview</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-item hide-for-print">
        Version: <div class="page-versions">
  <button class="version-menu-toggle single-version" title="Current version">5.36.0</button>
</div>

      </div>
      <div class="navbar-item hide-for-print">
            <div id="search-input-container">
    </div>
      </div>

      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="https://www.payara.fish/products/downloads/">Download</a>
          </span>
        </div>
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary enterprise" href="../../../../../../../../enterprise">Documentation for Payara Enterprise</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="docs" data-version="5.36.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-explore is-active" data-panel="explore">
  <div class="context">
    <span class="title">docs</span>
    <span class="version">5.36.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">docs</span>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../../../../index.html">5.36.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../../../Overview.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../../../../index.html">docs</a></li>
    <li><a href="Usage%20of%20Variables.html">Using variable references</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="file:///home/alanroth/Workspace/Payara-Documentation/docs/modules/ROOT/pages/Technical%20Documentation/Payara%20Server%20Documentation/Server%20Configuration%20And%20Management/Configuration%20Options/Variable%20Substitution/Usage%20of%20Variables.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<article class="doc">
<h1 class="page">Using variable references</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>A variable can be referenced anywhere inside a string value of a property which supports variable references. Multiple references to system properties and environment variables can be used within the same configuration value, concatenating any number of variable references and plain text chunks. When a reference to a password alias is used, it has to expand to the whole property value and cannot be combined with any other text or variable references.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variable_references_in_the_domain_configuration"><a class="anchor" href="#_variable_references_in_the_domain_configuration"></a>Variable references in the domain configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Variable references can be used inside text values in the following configuration files within the domain directory:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>domain.xml (inside attribute values or inside text nodes that contain a configuration value)</p>
</li>
<li>
<p>logging.properties (inside property values)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variable_references_in_deployed_applications"><a class="anchor" href="#_variable_references_in_deployed_applications"></a>Variable references in deployed applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p><em>Since Payara Server 4.1.2.172</em></p>
</div>
<div class="paragraph">
<p>Variable references can be used inside text values also in the following places within deployed applications and modules:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Package descriptors:</p>
<div class="ulist">
<ul>
<li>
<p>web.xml / glassfish-web.xml</p>
</li>
<li>
<p>ejb-jar.xml / glassfish-ejb-jar.xml</p>
</li>
<li>
<p>application.xml / glassfish-application.xml</p>
</li>
<li>
<p>glassfish-resources.xml</p>
</li>
</ul>
</div>
</li>
<li>
<p>Framework descriptors:</p>
<div class="ulist">
<ul>
<li>
<p>persistence.xml</p>
</li>
<li>
<p>faces-config.xml</p>
</li>
</ul>
</div>
</li>
<li>
<p>In the annotations:</p>
<div class="ulist">
<ul>
<li>
<p><code>@EJB</code>, <code>@WebService</code>, <code>@Stateless</code>, <code>@Stateful</code>, <code>@Singleton</code>, <code>@ActivationConfigProperty</code>, <code>@DataSource</code>, <code>@WebServlet</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>In JNDI lookups inside an application</p>
</li>
<li>
<p>In pre and post boot command files. <em>[Since Payara Server 4.1.2.174]</em></p>
</li>
<li>
<p>In JVM Options. <em>[Since Payara Server 4.1.2.182 and 5.182]</em></p>
</li>
<li>
<p>In <code>payara-expression-config.properties</code> file <em>[Since Payara Server 5.2020.2]</em>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here are several examples of where you can use variable references:</p>
</div>
<div class="sect2">
<h3 id="examples-annotation"><a class="anchor" href="#examples-annotation"></a>Within an annotation</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@DataSourceDefinition(name="java:global/ExampleDataSource",
      className="com.mysql.jdbc.jdbc2.optional.MysqlXADataSource",
      user="${mysql.user}",
      password="${ALIAS=mysql-db-password}",
      databaseName="${ENV=MYSQL_DBNAME}",
      serverName="localhost"
   )</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-web-xml"><a class="anchor" href="#examples-web-xml"></a>Within a <code>web.xml</code> descriptor</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;data-source&gt;
     &lt;name&gt;java:global/ExampleDataSource&lt;/name&gt;
     &lt;class-name&gt;com.mysql.jdbc.jdbc2.optional.MysqlXADataSource&lt;/class-name&gt;
     &lt;server-name&gt;localhost&lt;/server-name&gt;
     &lt;port-number&gt;3306&lt;/port-number&gt;
     &lt;database-name&gt;${ENV=MYSQL_DBNAME}&lt;/database-name&gt;
     &lt;user&gt;${mysql.user}&lt;/user&gt;
     &lt;password&gt;${ALIAS=mysql-db-password}&lt;/password&gt;
&lt;/data-source&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-multi"><a class="anchor" href="#examples-multi"></a>Multiple variable references combined in a single value withing the <code>domain.xml</code></h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;domain log-root="${com.sun.aas.instanceRoot}/${ENV=STAGE_NAME}/logs"&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-boot"><a class="anchor" href="#examples-boot"></a>Within a pre or post boot command file</h3>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">set configs.config.server-config.http-service.virtual-server.server.default-web-module=${ENV=deployed-app-name}
set configs.config.server-config.network-config.protocols.protocol.http-listener-1.security-enabled=${ENV=security-enabled}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-logging"><a class="anchor" href="#examples-logging"></a>Within a <code>logging.properties</code> file</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Environment variable substitution in the logging properties file is available since Payara Server <em>5.184</em>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">handlers=${ENV=CONSOLE-HANDLER}
handlerServices=${ENV=SYS-LOG-HANDLER}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="examples-ver-ref"><a class="anchor" href="#examples-ver-ref"></a>Within a <code>payara-expression-config.properties</code> file</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>payara-expression-config.properties</code> config source is only available in Payara Server since <em>5.2020.2</em>
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-properties hljs" data-lang="properties">fish.payara.example.system=${java.home}
fish.payara.example.env=${ENV=PATH}
fish.payara.example.password=${ALIAS=secret}
fish.payara.example.multiple=property containing both an ${ENV=envProperty} and a ${sysProp}</code></pre>
</div>
</div>
</div>
</div>
</div>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script src="../../../../../../../_/js/site.js"></script>
<script async src="../../../../../../../_/js/vendor/highlight.js"></script>
<script async src="../../../../../../../_/js/vendor/docSearch.js"></script>
  </body>
</html>
